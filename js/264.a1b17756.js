"use strict";(self["webpackChunkweek6_homework"]=self["webpackChunkweek6_homework"]||[]).push([[264],{264:function(t,e,i){i.r(e),i.d(e,{default:function(){return $}});var o=i(252),s=i(577),n=i(963);const a=(0,o._)("h2",null,"購物車",-1),l={class:"container"},r={class:"table align-middle"},c=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"圖片"),(0,o._)("th",null,"商品名稱"),(0,o._)("th",null,"價格"),(0,o._)("th")])],-1),d={style:{width:"200px"}},u={key:0,class:"h5"},h={key:1},p={class:"h6"},g={class:"h5"},_={class:"btn-group btn-group-sm"},k=["onClick"],b={class:"fas fa-spinner fa-pulse"},w=(0,o.Uk)(" 查看更多 "),v=["onClick"],m={class:"spinner-border spinner-border-sm",role:"status"},y=(0,o._)("span",{class:"sr-only"},null,-1),C=[y],f=(0,o.Uk)(" 加到購物車 ");function I(t,e,i,y,I,D){return(0,o.wg)(),(0,o.iD)(o.HY,null,[a,(0,o._)("div",l,[(0,o._)("table",r,[c,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(I.products,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",d,[(0,o._)("div",{style:(0,s.j5)([{backgroundImage:`url(${e.imageUrl})`},{height:"100px","background-size":"cover","background-position":"center"}])},null,4)]),(0,o._)("td",null,(0,s.zw)(e.title),1),(0,o._)("td",null,[e.price===e.origin_price?((0,o.wg)(),(0,o.iD)("div",u,(0,s.zw)(e.price)+" 元 ",1)):((0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("del",p,"原價 "+(0,s.zw)(e.origin_price)+" 元",1),(0,o._)("div",g,"現在只要 "+(0,s.zw)(e.price)+" 元",1)]))]),(0,o._)("td",null,[(0,o._)("div",_,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:i=>t.openProductModal(e.id)},[(0,o.wy)((0,o._)("i",b,null,512),[[n.F8,I.isLoadingItem==e.id]]),w],8,k),(0,o._)("button",{type:"button",class:"btn btn-outline-danger",onClick:t=>D.addToCart(e.id)},[(0,o.wy)((0,o._)("div",m,C,512),[[n.F8,I.isLoadingItem==e.id]]),f],8,v)])])])))),128))])])])],64)}var D=i(902),L={data(){return{products:[],isLoadingItem:"",productId:""}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2//api/kai/products/all").then((t=>{this.products=t.data.products})).catch((t=>{console.log(t)}))},getCart(){this.$http("https://vue3-course-api.hexschool.io/v2/api/kai/cart").then((t=>{this.cartData=t.data.data})).catch((t=>{console.log(t)}))},addToCart(t,e=1){const i={product_id:t,qty:e};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/kai/cart",{data:i}).then((t=>{console.log(this.isLoadingItem),this.getCart(),this.isLoadingItem="",D.Z.emit("get-cart")})).catch((t=>{console.log(t)}))}},mounted(){this.getProducts(),this.getCart()}},x=i(744);const z=(0,x.Z)(L,[["render",I]]);var $=z}}]);
//# sourceMappingURL=264.a1b17756.js.map