{"version":3,"file":"js/819.e7b186b4.js","mappings":"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","sources":["webpack://week6-homework/./src/views/DashboardView.vue","webpack://week6-homework/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <link\n    rel=\"stylesheet\"\n    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css\"\n  />\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/admin\">後台</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin\">後台首頁</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/\">前台首頁</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/products\"\n              >產品列表</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/coupon\"\n              >優惠卷</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"nav-link\" @click.prevent=\"signOut\">登出</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n  <h2 v-if=\"checkSucess\">後台登入成功</h2>\n  <router-view v-if=\"checkSucess\"></router-view>\n\n  <div class=\"container\">\n    <div class=\"text-end mt-4\">\n      <button class=\"btn btn-primary\" @click=\"openModal('new')\">\n        建立新的產品\n      </button>\n    </div>\n    <table class=\"table mt-4\">\n      <thead>\n        <tr>\n          <th width=\"120\">分類</th>\n          <th>產品名稱</th>\n          <th width=\"120\">原價</th>\n          <th width=\"120\">售價</th>\n          <th width=\"100\">是否啟用</th>\n          <th width=\"120\">編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in products\" :key=\"item.id\">\n          <td>{{ item.category }}</td>\n          <td>{{ item.title }}</td>\n          <td class=\"text-start\">{{ item.origin_price }}</td>\n          <td class=\"text-start\">{{ item.price }}</td>\n          <td>\n            <span\n              class=\"text-success\"\n              v-if=\"item.is_enabled\"\n              @click=\"item.is_enabled = !item.is_enabled\"\n              >啟用</span\n            >\n            <span v-else @click=\"item.is_enabled = !item.is_enabled\"\n              >未啟用</span\n            >\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-primary btn-sm\"\n                @click=\"openModal('edit', item)\"\n              >\n                編輯\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"openModal('del', item)\"\n              >\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class=\"modal-dialog\">\n        <div class=\"modal-content border-0\">\n          <div class=\"modal-header bg-danger text-white\">\n            <h5 id=\"delProductModalLabel\" class=\"modal-title\">\n              <span>刪除產品</span>\n            </h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            是否刪除\n            <strong class=\"text-danger\">{{tempProducts.title }}</strong> 商品(刪除後將無法恢復)。\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n              取消\n            </button>\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"delProduct\">\n              確認刪除\n            </button>\n          </div>\n        </div>\n      </div>\n</template>\n\n<script>\n// import ProductModal from '@/components/ProductModal.vue'\n\nexport default {\n  // components: { ProductModal },\n  data () {\n    return {\n      checkSucess: false,\n      products: [],\n      isNew: false, // 用來區分新增(true)、編輯(false)Model\n      num: '',\n      tempProducts: {\n        imagesUrl: []\n      },\n      pagination: {}\n    }\n  },\n  methods: {\n    getData () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`\n      this.$http\n        .get(url)\n        .then((res) => {\n          // 取得產品資料\n          this.products = res.data.products\n          this.num = Object.keys(this.products).length\n          // 沒有\"/all\"結尾的api才有分頁資訊\n          this.pagination = res.data.pagination\n          // 參數預設值 \"?page=${函式帶的參數}\"\n        })\n        .catch((err) => {\n          alert(err.data.message)\n        })\n    },\n    checkLogin () {\n      const token = document.cookie.replace(\n        /* eslint-disable */\n        /(?:(?:^|.*;\\s*)hexToken\\s*\\=\\s*([^;]*).*$)|^.*$/,\n        \"$1\"\n      );\n      /* eslint-enable */\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = token\n        const api = `${process.env.VUE_APP_API}api/user/check`\n        this.$http\n          .post(api, { api_token: this.token })\n          .then((res) => {\n            this.checkSucess = true\n          })\n          .catch((err) => {\n            console.log(err)\n            this.$router.push('/login')\n          })\n      } else {\n        alert('請先登入')\n        this.$router.push('/login')\n      }\n    },\n    signOut () {\n      document.cookie = 'hexToken=;expires=;'\n      alert('token已清除')\n      this.$router.push('/login')\n    }\n  },\n  mounted () {\n    this.checkLogin()\n    this.getData()\n  }\n}\n</script>\n","import { render } from \"./DashboardView.vue?vue&type=template&id=ba49018e\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wuxiangkai/Desktop/sample-gh-pages-main/vue開發/w6/week6-homework/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","rel","href","class","type","id","width","_hoisted_1","_createVNode","_component_router_link","to","_hoisted_5","onClick","$options","$data","_createElementBlock","_hoisted_17","_createBlock","_component_router_view","key","_ctx","_hoisted_21","_Fragment","_renderList","item","_toDisplayString","category","title","origin_price","price","is_enabled","_hoisted_24","_hoisted_25","_hoisted_27","_hoisted_28","_hoisted_31","_hoisted_37","data","checkSucess","products","isNew","num","tempProducts","imagesUrl","pagination","methods","getData","url","this","$http","get","then","res","Object","keys","length","catch","err","alert","message","checkLogin","token","document","cookie","replace","defaults","headers","common","Authorization","api","post","api_token","console","log","$router","push","signOut","mounted","__exports__","render"],"sourceRoot":""}